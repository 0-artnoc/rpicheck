import nl.javadude.gradle.plugins.license.License

plugins {
    id "com.github.hierynomus.license" version "0.11.0"
}

apply plugin: 'com.android.application'

android {
    compileSdkVersion 21
    buildToolsVersion "21.1.2"

    defaultConfig {
        applicationId "de.eidottermihi.raspicheck"
        minSdkVersion 9
        targetSdkVersion 21
        versionCode 26
        versionName "1.6.5"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }
    lintOptions {
        disable 'InvalidPackage'
    }
}

dependencies {
    compile project(':libraries:ssh')
    compile project(':libraries:file-explorer')
    compile 'de.larsgrefer:android-library:0.1'
    compile 'com.android.support:support-v4:21.0.3'
    compile 'org.ocpsoft.prettytime:prettytime:2.1.2.Final'
    compile 'com.github.tony19:logback-android-classic:1.0.10-2'
    compile 'org.slf4j:slf4j-api:1.7.6'
}

license {
    header file('src/etc/license_header')

    ext.year = Calendar.getInstance().get(Calendar.YEAR)
    ext.name = 'RasPi Check Contributors'
}

task licenseFormatApp(type: License) {
    source = fileTree(dir: "src").include("**/*.java").exclude("**/sheetrock/panda/changelog/ChangeLog.java")
}
licenseFormat.dependsOn licenseFormatApp

